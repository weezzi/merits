package com.merits.modules.base.dao;

// IMPORTS ---------------------------------------------------------------------

import java.sql.CallableStatement;
import java.sql.Timestamp;

import com.weezzi.core.data.*;
import com.weezzi.core.dbmanager.dao.UpdaterDAO;
import com.weezzi.utils.StringUtilities;


/**
 * <b>Title: </b>City Updater Object<br/>
 * <b>Description: </b>City Updater Class<br/>
 *
 * @author AUTO-GENERATED By Weezzi Builder
 * @version 1.0
 */
 @SuppressWarnings("unused")
public class CitiesUpdater implements UpdaterDAO {


    // PROPERTIES --------------------------------------------------------------

    private long id;
    private long idCountry;
    private String name;
    private GeoLocation geoLocation;
    private EditInfo editInfo;
    private PublishInfo publishInfo;


    // CONSTRUCTORS ------------------------------------------------------------


	/**
	 * Empty Constructor
	 **/
	public CitiesUpdater(long id, long idCountry, String name, GeoLocation geoLocation, PublishInfo publishInfo, UpdateInfo updateInfo) {
        this.id = id;
        this.idCountry = idCountry;
        this.name = name;
        this.geoLocation = geoLocation;
        this.editInfo = editInfo;
        this.publishInfo = publishInfo;
	}


	// PUBLIC -----------------------------------------------------------------

	
    /**
     * Gets DB Connection name
     * @return project database connection name;
     */
	public String getDBConnectionName() {
		return "Merits_Merits";
	}


	/**
	 * Gets update SQL
	 * @return query
	 */
	public String getQuerySQL() {
		return "UPDATE CITIES " +
               " SET ID_COUNTRY = ? , NAME = ? , GEO_LOCATION_COUNTRY  = ? , GEO_LOCATION_REGION  = ? , GEO_LOCATION_CITY  = ? , GEO_LOCATION_LAT  = ? , GEO_LOCATION_LONG  = ? , PUBLISH_INFO_DATE  = ? , PUBLISH_INFO_USER  = ? , EDIT_INFO_UPDATE_DATE  = ? , EDIT_INFO_UPDATE_USER  = ?  " +
               " WHERE  ID = ?";
	}
	
	
	/**
	 * Updates Query Fields
	 * @param statment
	 * @throws Exception
	 */
	public void updateFields(CallableStatement statement) throws Exception {
        // Set Fields
        statement.setLong(1, idCountry);
        statement.setString(2, StringUtilities.capString(name, 100));
        // Check if location is not null
        if (geoLocation != null) {
            // Country
            if (geoLocation.getCountryId() != null) {
                statement.setLong(3, geoLocation.getCountryId());
            } else {
                statement.setNull(3, java.sql.Types.INTEGER);
            }
            // Region
            if (geoLocation.getRegionId() != null) {
                statement.setLong(4, geoLocation.getRegionId());
            } else {
                statement.setNull(4, java.sql.Types.INTEGER);
            }
            // City
            if (geoLocation.getCityId() != null) {
                statement.setLong(5, geoLocation.getCityId());
            } else {
                statement.setNull(5, java.sql.Types.INTEGER);
            }
            // Latitude
            if (geoLocation.getLatitude() != null) {
                statement.setFloat(6, geoLocation.getLatitude());
            } else {
                statement.setNull(6, java.sql.Types.INTEGER);
            }
            // Longitude
            if (geoLocation.getLongitude() != null) {
                statement.setFloat(7, geoLocation.getLongitude());
            } else {
                statement.setNull(7, java.sql.Types.INTEGER);
            }
        } else {
            // Set country id
            statement.setNull(3, java.sql.Types.INTEGER);
            // Set region
            statement.setNull(4, java.sql.Types.INTEGER);
            // Set city
            statement.setNull(5, java.sql.Types.INTEGER);
            // Set latitude
            statement.setNull(6, java.sql.Types.INTEGER);
            // Set longitude
            statement.setNull(7, java.sql.Types.INTEGER);
        }
        // Check if edit info create date is Null
        if (editInfo.getCreateDate() == null) {
            statement.setNull(8, java.sql.Types.TIMESTAMP);
        } else {
            // Set create date
            statement.setTimestamp(8,  editInfo.getCreateDate());
        } 
        // Check if edit info create user is Null
        if (editInfo.getCreateUserId() == null) {
            statement.setNull(9, java.sql.Types.NUMERIC);
        } else {
            // Set create user
            statement.setLong(9, editInfo.getCreateUserId());
        } 
        // Check if edit info update date is Null
        if (editInfo.getUpdateDate() == null) {
            statement.setNull(10, java.sql.Types.TIMESTAMP);
        } else {
            // Set update date
            statement.setTimestamp(10,  editInfo.getUpdateDate());
        } 
        // Check if edit info update user is Null
        if (editInfo.getUpdateUserId() == null) {
            statement.setNull(11, java.sql.Types.NUMERIC);
        } else {
            // Set update user
            statement.setLong(11, editInfo.getUpdateUserId());
        } 
        // Check if publish info is null
        if (publishInfo != null) {
            // Check if publish info create date is Null
            if (publishInfo.getPublishDate() == null) {
                statement.setNull(12, java.sql.Types.TIMESTAMP);
            } else {
                // Set publish date
                statement.setTimestamp(12,  publishInfo.getPublishDate());
            } 
            // Check if publish info create user is Null
            if (publishInfo.getPublishUserId() == null) {
                statement.setNull(13, java.sql.Types.NUMERIC);
            } else {
                // Set publish user
                statement.setLong(13, publishInfo.getPublishUserId());
            } 
        } else {
            statement.setNull(12, java.sql.Types.TIMESTAMP);
            statement.setNull(13, java.sql.Types.NUMERIC);
        }
        statement.setLong(14, id);
	}


	/**
	 * Gets extended update SQL
	 * @return query
	 */
	public String getExtendedQuerySQL() {
		return null;
	}
	
	
	/**
	 * Updates Extended Query Fields
	 * @param statment
	 * @throws Exception
	 */
	public void updateExtendedQueryFields(CallableStatement statement) throws Exception {
	}
	
	
}
